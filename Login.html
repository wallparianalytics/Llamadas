<!DOCTYPE html>
<html>
  <head>
    <base target="_top">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-blue.min.css">
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    <style>
      body{background:#F5F5F5;font-family:'Roboto',sans-serif;display:flex;justify-content:center;align-items:center;height:100vh;}
      .card{padding:20px;background:white;border-radius:4px;}
    </style>
  </head>
  <body>
    <div class="card mdl-shadow--2dp">
      <h4>Ingreso</h4>
      <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
        <input class="mdl-textfield__input" type="email" id="email">
        <label class="mdl-textfield__label" for="email">Correo</label>
      </div>
      <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
        <input class="mdl-textfield__input" type="text" id="dni">
        <label class="mdl-textfield__label" for="dni">DNI</label>
      </div>
      <button class="mdl-button mdl-js-button mdl-button--raised" onclick="login()">Entrar</button>
      <div id="snackbar" class="mdl-js-snackbar mdl-snackbar"></div>
    </div>
    <script>
      function login(){
        var email = document.getElementById('email').value;
        var dni = document.getElementById('dni').value;
        google.script.run.withSuccessHandler(function(res){
          if(res && res.ok){
            location.reload();
          }else{
            var sb = document.getElementById('snackbar');
            sb.MaterialSnackbar.showSnackbar({message:'Credenciales incorrectas'});
          }
        }).validarUsuario(email,dni);
      }
    </script>
  </body>
</html>
